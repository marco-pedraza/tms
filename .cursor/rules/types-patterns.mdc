---
description: Type definitions patterns
globs: *.types.ts
alwaysApply: false
---

# Types Patterns

> **ðŸ“– See `AGENTS.md` for complete type conventions and patterns**

## Essential Description

Each feature must have: base entity, CreatePayload, UpdatePayload, list types. Use shared types from `shared/types.ts` for unified responses. Use Encore validation decorators on DTOs.

## Practical Examples

### Base Types

```typescript
export interface Feature {
  id: number;
  name: string;
  code: string;
  active: boolean;
  createdAt: Date | string | null;
  updatedAt: Date | string | null;
}

export interface CreateFeaturePayload {
  name: string & MinLen<1> & MatchesRegexp<'.*\\S.*'>;
  code: string & MinLen<1> & MatchesRegexp<'.*\\S.*'>;
  active?: boolean;
}

export interface UpdateFeaturePayload {
  name?: string & MinLen<1>;
  code?: string & MinLen<1>;
  active?: boolean;
}
```

### List Types (Unified)

```typescript
import {
  ListQueryParams,
  ListQueryResult,
  PaginatedListQueryParams,
  PaginatedListQueryResult,
} from '../../shared/types';

export type ListFeaturesQueryParams = ListQueryParams<Feature>;
export type ListFeaturesResult = ListQueryResult<Feature>;
export type PaginatedListFeaturesQueryParams = PaginatedListQueryParams<Feature>;
export type PaginatedListFeaturesResult = PaginatedListQueryResult<Feature>;
```

### With Relations

```typescript
export interface FeatureWithRelations extends Feature {
  relatedEntity: RelatedEntity;
}
```

### Compound Types

```typescript
export interface CreateSimpleFeaturePayload extends Omit<CreateFeaturePayload, 'complexField'> {
  simpleField: string;
  isSimple: false;
}
```

## References

- See `AGENTS.md` section "Code Conventions" for type conventions
- See `apps/server/shared/types.ts` for available shared types
